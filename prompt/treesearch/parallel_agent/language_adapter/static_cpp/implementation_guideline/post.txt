Always treat the current working directory as the only writable sandbox. All artifacts (including `experiment_data.npy`, intermediate checkpoints, and plots) must stay inside this directoryâ€”never write to a parent path or another absolute location.

```cpp
#include <cnpy.h>
#include <filesystem>
#include <iostream>
#include <map>
#include <string>
#include <vector>

namespace fs = std::filesystem;

int main() {
    fs::path working_dir = fs::current_path() / "working";
    fs::create_directories(working_dir);

    using MetricStore = std::map<std::string, std::vector<double>>;
    using DatasetStore = std::map<std::string, std::map<std::string, MetricStore>>;
    std::map<std::string, DatasetStore> experiment_data = {
        {"dataset_name_1",
         {{"metrics", {{"train", {}}, {"val", {}}}},
          {"losses", {{"train", {}}, {"val", {}}}},
          {"predictions", {}},
          {"ground_truth", {}}}},
    };

    for (int epoch = 0; epoch < 3; ++epoch) {
        double train_metric = 0.1 * epoch;
        double val_loss = 0.2 * epoch;
        experiment_data["dataset_name_1"]["metrics"]["train"].push_back(train_metric);
        experiment_data["dataset_name_1"]["losses"]["val"].push_back(val_loss);
        std::cout << "Epoch " << epoch << ": validation_loss = " << val_loss << std::endl;
    }

    std::vector<double> flat_metrics =
        experiment_data["dataset_name_1"]["metrics"]["train"];
    cnpy::npy_save((working_dir / "experiment_data.npy").string(),
                   flat_metrics.data(),
                   {flat_metrics.size()},
                   "w");

    fs::path plot_path = working_dir / "dataset_name_1_metrics.png";
    std::cout << "Save matplotlib output to " << plot_path << std::endl;

    return 0;
}
```
