
try:
    # IMPORTANT: If "Experiment Data Path" section is provided above, you MUST copy those
    # absolute paths here. Example:
    # experiment_data_path_list = [
    #     "/path/to/seed1/{dataset_name}_data.npy",
    #     "/path/to/seed2/{dataset_name}_data.npy",
    #     "/path/to/seed3/{dataset_name}_data.npy",
    # ]
    experiment_data_path_list = []  # Replace with paths from "Experiment Data Path" section

    # Only use this fallback if NO paths were provided in "Experiment Data Path" section
    if not experiment_data_path_list:
        # Prefer *_data.npy pattern (e.g., {experiment_name}_data.npy)
        experiment_data_path_list += glob.glob(os.path.join(working_dir, '*_data.npy'))
        experiment_data_path_list += glob.glob(os.path.join(working_dir, 'experiment_data*.npy'))
        experiment_data_path_list += glob.glob(os.path.join(working_dir, 'output*.npy'))
        if not experiment_data_path_list:
            experiment_data_path_list = glob.glob(os.path.join(working_dir, '**', '*.npy'), recursive=True)
        if not experiment_data_path_list:
            print("No .npy files found under working_dir to plot.")
            # Exit gracefully instead of crashing

    all_experiment_data = []
    for experiment_data_path in experiment_data_path_list:
        full_path = experiment_data_path
        if not os.path.isabs(full_path):
            root = os.getenv("AI_SCIENTIST_ROOT")
            if root:
                full_path = os.path.join(root, experiment_data_path)
            if not os.path.isfile(full_path):
                full_path = os.path.join(os.getcwd(), experiment_data_path)
        if not os.path.isfile(full_path):
            print(f'Warning: experiment data file not found, skipping: {full_path}')
            continue
        try:
            loaded = np.load(full_path, allow_pickle=True)
            experiment_data = loaded.item() if isinstance(loaded, np.ndarray) and loaded.shape == () else loaded
            all_experiment_data.append((experiment_data_path, experiment_data))
        except Exception as e:
            print(f'Error loading experiment data {full_path}: {e}')
except Exception as e:
    print(f'Error loading experiment data: {e}')

try:
    # First plot
    plt.figure()
    # ... plotting code ...
    plt.savefig('working_dir/[plot_name_1].png')
    plt.close()
except Exception as e:
    print(f"Error creating plot1: {e}")
    plt.close()  # Always close figure even if error occurs

try:
    # Second plot
    plt.figure()
    # ... plotting code ...
    plt.savefig('working_dir/[plot_name_2].png')
    plt.close()
except Exception as e:
    print(f"Error creating plot2: {e}")
    plt.close()
